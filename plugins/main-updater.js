const _0x2101cb=_0x315f;(function(_0xabe670,_0x229e5f){const _0x144246=_0x315f,_0x52d804=_0xabe670();while(!![]){try{const _0x209302=-parseInt(_0x144246(0x1ce))/0x1*(parseInt(_0x144246(0x1bd))/0x2)+parseInt(_0x144246(0x1ac))/0x3+parseInt(_0x144246(0x1d0))/0x4+parseInt(_0x144246(0x1b1))/0x5+parseInt(_0x144246(0x1cc))/0x6+parseInt(_0x144246(0x1d3))/0x7*(parseInt(_0x144246(0x1d1))/0x8)+parseInt(_0x144246(0x1ae))/0x9*(-parseInt(_0x144246(0x1ad))/0xa);if(_0x209302===_0x229e5f)break;else _0x52d804['push'](_0x52d804['shift']());}catch(_0x1022fa){_0x52d804['push'](_0x52d804['shift']());}}}(_0x1cb7,0xd908e));function _0x1cb7(){const _0x12c665=['get','sha','../data/updateDB','✅\x20Update\x20complete!\x20Restarting\x20the\x20bot...','HORIZON-MD-V2-main','adm-zip','log','existsSync','../command','110900Vqadie','❌\x20Update\x20failed.\x20Please\x20try\x20manually.','writeFileSync','upgrade','join','exit','isDirectory','extractAllTo','🔄\x20Replacing\x20files...','\x20to\x20preserve\x20custom\x20settings.','Update\x20the\x20bot\x20to\x20the\x20latest\x20version.','sync','axios','mkdirSync','Update\x20error:','10025610MEfuON','rmSync','13ALukFZ','This\x20command\x20is\x20only\x20for\x20the\x20bot\x20owner.','701556qXpihh','2576lDSGpd','🔍\x20Checking\x20for\x20HORIZON\x20MD\x20updates...','22757UnYfcE','Updating\x20HORIZON\x20MD\x20Bot...','unlinkSync','4403220BBtamh','1364610VywUyq','189csIKAz','readdirSync','https://api.github.com/repos/TECH-HORIZON-SCHOOL-OFFICIAL/HORIZON-MD-V2/commits/main','573095PWXRaI','arraybuffer','app.json'];_0x1cb7=function(){return _0x12c665;};return _0x1cb7();}const {cmd}=require(_0x2101cb(0x1bc)),axios=require(_0x2101cb(0x1c9)),fs=require('fs'),path=require('path'),AdmZip=require(_0x2101cb(0x1b9)),{setCommitHash,getCommitHash}=require(_0x2101cb(0x1b6));cmd({'pattern':'update','alias':[_0x2101cb(0x1c0),_0x2101cb(0x1c8)],'react':'🆕','desc':_0x2101cb(0x1c7),'category':'misc','filename':__filename},async(_0x28da27,_0x25e710,_0x21abfc,{reply:_0x49b733,isOwner:_0x2fe02a})=>{const _0x1e58f7=_0x2101cb;if(!_0x2fe02a)return _0x49b733(_0x1e58f7(0x1cf));try{await _0x49b733(_0x1e58f7(0x1d2));const {data:_0x4e61ae}=await axios[_0x1e58f7(0x1b4)](_0x1e58f7(0x1b0)),_0x209e39=_0x4e61ae[_0x1e58f7(0x1b5)],_0x20c67e=await getCommitHash();if(_0x209e39===_0x20c67e)return _0x49b733('✅\x20Your\x20HORIZON\x20MD\x20bot\x20is\x20already\x20up-to-date!');await _0x49b733(_0x1e58f7(0x1d4));const _0x2defa8=path[_0x1e58f7(0x1c1)](__dirname,'latest.zip'),{data:_0x4d356e}=await axios['get']('https://github.com/TECH-HORIZON-OFFICIAL/HORIZON-MD-V2/archive/main.zip',{'responseType':_0x1e58f7(0x1b2)});fs[_0x1e58f7(0x1bf)](_0x2defa8,_0x4d356e),await _0x49b733('📦\x20Extracting\x20the\x20latest\x20code...');const _0x23b14b=path[_0x1e58f7(0x1c1)](__dirname,'latest'),_0x328cdd=new AdmZip(_0x2defa8);_0x328cdd[_0x1e58f7(0x1c4)](_0x23b14b,!![]),await _0x49b733(_0x1e58f7(0x1c5));const _0x2acad0=path[_0x1e58f7(0x1c1)](_0x23b14b,_0x1e58f7(0x1b8)),_0x51bcb9=path[_0x1e58f7(0x1c1)](__dirname,'..');copyFolderSync(_0x2acad0,_0x51bcb9),await setCommitHash(_0x209e39),fs[_0x1e58f7(0x1d5)](_0x2defa8),fs[_0x1e58f7(0x1cd)](_0x23b14b,{'recursive':!![],'force':!![]}),await _0x49b733(_0x1e58f7(0x1b7)),process[_0x1e58f7(0x1c2)](0x0);}catch(_0x21011b){return console['error'](_0x1e58f7(0x1cb),_0x21011b),_0x49b733(_0x1e58f7(0x1be));}});function _0x315f(_0x13a39f,_0x48a4ae){const _0x1cb7c5=_0x1cb7();return _0x315f=function(_0x315f5b,_0x314ace){_0x315f5b=_0x315f5b-0x1ac;let _0x3f607c=_0x1cb7c5[_0x315f5b];return _0x3f607c;},_0x315f(_0x13a39f,_0x48a4ae);}function copyFolderSync(_0x45f29c,_0x1d5bcc){const _0x150899=_0x2101cb;!fs[_0x150899(0x1bb)](_0x1d5bcc)&&fs[_0x150899(0x1ca)](_0x1d5bcc,{'recursive':!![]});const _0x16b9a4=fs[_0x150899(0x1af)](_0x45f29c);for(const _0x329a63 of _0x16b9a4){const _0x369e85=path[_0x150899(0x1c1)](_0x45f29c,_0x329a63),_0x303e3c=path[_0x150899(0x1c1)](_0x1d5bcc,_0x329a63);if(_0x329a63==='config.js'||_0x329a63===_0x150899(0x1b3)){console[_0x150899(0x1ba)]('Skipping\x20'+_0x329a63+_0x150899(0x1c6));continue;}fs['lstatSync'](_0x369e85)[_0x150899(0x1c3)]()?copyFolderSync(_0x369e85,_0x303e3c):fs['copyFileSync'](_0x369e85,_0x303e3c);}}